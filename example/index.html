<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>button-demo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.16.0/antd.css"
    integrity="sha512-Pp/fArhoO9vVdrcNgY+c5VU79Gew5RGdM2pXya87W+NsRR8YKJ7mrBJugz0q0951jpemE9qoed8xUltWWLfhpg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    #app {
      padding: 10px 20px;
      width: 100%;
      margin: auto;
      margin-top: 40px;
    }
  </style>
</head>

<body>
  <div id="app">
  </div>
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
    integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/antd/4.16.0/antd-with-locales.js"
    integrity="sha512-LAyCMzJy/igkEnP7f4WYdNxKcD5PBAatHUOGhsC6xdP1XqntNCPU/Phk6dDXXHNe0gIgAGaWmkmSXQuQfMJ/lA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="../dist/index.min.js"></script>
  <script type="text/babel">
    const fileList=[
      // {
      //   uid: '1',
      //   name: 'image.png',
      //   status: 'done',
      //   url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
      // }
    ]
    const treeData=[
      {
        title: 'Node1',
        value: '0-0',
        key: '0-0',
        children: [
          {
            title: 'Child Node1',
            value: '0-0-0',
            key: '0-0-0',
          },
        ],
      },
      {
        title: 'Node2',
        value: '0-1',
        key: '0-1',
        children: [
          {
            title: 'Child Node3',
            value: '0-1-0',
            key: '0-1-0',
          },
          {
            title: 'Child Node4',
            value: '0-1-1',
            key: '0-1-1',
          },
          {
            title: 'Child Node5',
            value: '0-1-2',
            key: '0-1-2',
          },
        ],
      },
    ];
    const cascaderOptions=[
      {
        value: 'zhejiang',
        label: 'Zhejiang',
        children: [
          {
            value: 'hangzhou',
            label: 'Hangzhou',
            children: [
              {
                value: 'xihu',
                label: 'West Lake',
              },
            ],
          },
        ],
      },
      {
        value: 'jiangsu',
        label: 'Jiangsu',
        children: [
          {
            value: 'nanjing',
            label: 'Nanjing',
            children: [
              {
                value: 'zhonghuamen',
                label: 'Zhong Hua Men',
              },
            ],
          },
        ]
      }]
    const checkboxGroupOptions=[
      {label: 'Apple',value: <span>Apple</span>},
      {label: 'Pear',value: 'Pear'},
      {label: 'Orange',value: 'Orange'},
    ];

    const radioGroupOptions=[
      {label: 'Apple',value: 'Apple'},
      {label: 'Pear',value: 'Pear'},
      {label: 'Orange',value: 'Orange'},
    ];

    const selectOptions=[
      {label: 'Apple',value: 'Apple'},
      {label: 'Pear',value: 'Pear'},
      {label: 'Orange',value: 'Orange'}
    ]
    const marks={
      0: '0°C',
      26: '26°C',
      37: '37°C',
      100: {
        style: {
          color: '#f50',
        },
        label: <strong>100°C</strong>,
      },
    };
    const mockData=[];
    for(let i=0;i<20;i++) {
      mockData.push({
        key: i.toString(),
        title: `content${i+1}`,
        description: `description of content${i+1}`,
      });
    }
    const {Upload,Transfer,TreeSelect,TimePicker,AutoComplete,Rate,DatePicker,Slider,Select,Switch,Col,Button,Form,Row,Input,Cascader,Checkbox,InputNumber,Radio}=antd
    const FormItem=Form.Item
    function App() {
      console.log(ReactFormMaker)
      const [form]=Form.useForm();
      const onGenderChange=(e) => {
        console.log('获取平台的值',form.getFieldValue('platform'))
      };
      const config={
        form: {
          "labelCol": {
            "span": 8
          },
          "wrapperCol": {
            "span": 12
          },
          initialValues: {
            name: 'vnues',
            reason: '这就是原因',
            amount: 3000,
            platform: '',
            switch:true
            // rate: 3.5,
          }
          ,
          form
        },
        "fields": [
          {
            formItem: {
              "name": "name",
              // label 标签的文本	ReactNode
              "label": "姓名",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "input",
              "props": {
                "placeholder": "请输入用户姓名",
                onChange: onGenderChange
              },
            },
          },
          {
            formItem: {
              "label": "原因",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "textarea",
              formItem: {
                "name": "reason",
              },
              title: {
                text: "这是文本标题",// 支持JSX语法
                props: {
                  className: 'title',
                }
              },
              "props": {
              },
            },
          },
          {
            formItem: {
              "name": "amount",
              "label": "金额",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "inputNumber",
              "props": {
                "placeholder": "请输入金额",
              },
            },
          },
          {
            formItem: {
              "name": "platform",
              label: "平台",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "cascader",
              "props": {
                options: cascaderOptions,
              },
            },
          },
          {
            formItem: {
              "name": "checkbox",
              "label": "checkbox组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "checkbox",
              "props": {
                checked: false
              },
              children: ['苹果'] // 定义子节点 可以在这里写JSX
            },
          },
          {
            formItem: {
              "name": "checkboxGroup",
              "label": "checkboxGroup组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              //     <Checkbox.Group options={plainOptions} defaultValue={['Apple']} onChange={onChange} />
              "type": "checkboxGroup",
              "props": {
                options: checkboxGroupOptions

              }
            },
          },
          {
            formItem: {
              "name": "radio",
              "label": "Radio组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "radio",
              "props": {
              },
              children: ['banana']
            },
          },
          // radioGroupOptions
          {
            formItem: {
              "name": "radioGroup",
              "label": "radioGroup组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "radioGroup",
              "props": {
                options: radioGroupOptions
              },
            },
          },
          {
            formItem: {
              "name": "radioButtonGroup",
              "label": "radioButtonGroup组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "radioGroup",
              "props": {
                optionType: 'button',
                options: radioGroupOptions
              },
            },
          },
          {
            formItem: {
              "name": "switch",
              "label": "switch组件",
              "valuePropName":"checked"
            },
            "field": {
              "type": "switch",
              "props": {
              }
            },
          },
          // selectOptions
          {
            formItem: {
              "name": "select",
              "label": "select组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "select",
              "props": {
                options: selectOptions,
                placeholder: '请选择'
              }
            },
          },
          {
            formItem: {
              "name": "slider",
              "label": "slider组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "slider",
              "props": {
                marks,
                // defaultValue: [26, 37]
              }
            },
          },
          {
            formItem: {
              "name": "datePicker",
              "label": "datePicker组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "datePicker",
              "props": {
                showTime: true,
                onChange: () => {
                  console.log('DatePicker change')
                }
              }
            },
          },
          {
            formItem: {
              "name": "rangePicker",
              "label": "rangePicker组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "rangePicker",
              "props": {
                showTime: true,
                onChange: () => {
                  console.log('rangePicker change')
                }
              }
            },
          },
          {
            formItem: {
              "name": "rate",
              "label": "评分组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "rate",
              "props": {
              }
            },
          },
          {
            formItem: {
              "name": "autoComplete",
              "label": "AutoComplete组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "autoComplete",
              "props": {
              }
            },
          },
          {
            formItem: {
              "name": "timePicker",
              "label": "TimePicker组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "timePicker",
              "props": {
              }
            },
          },
          {
            formItem: {
              "name": "treeSelect",
              "label": "TreeSelect组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "treeSelect",
              "props": {
                treeData
              }
            },
          },
          {
            formItem: {
              "name": "transfer",
              "label": "Transfer组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "transfer",
              "props": {
                dataSource: mockData
              }
            },
          },
          {
            formItem: {
              "name": "upload",
              "label": "Upload组件",
              "rules": [
                {
                  "required": true,
                  "message": "该项为必填项"
                }
              ]
            },
            "field": {
              "type": "upload",
              "props": {
                fileList
              },
              children: <Button>Click to Upload</Button>
            },
          }
        ],
        // 提交按钮 必需
        submit: {
          text: '提交',
          form,
          props: {
            type: 'primary'
          },
          success() {
            alert(JSON.stringify({}))
          },
          fail() {
            alert('验证失败')
          }
        },
        reset: {
          text: '重置',
          form,
          props: {
            type: 'primary',
            style:{marginLeft:20}
          },
          callBack() {
            // 关闭弹框等操作
          }
        }
      }
      return <div><ReactFormMaker {...config} /></div>
    }
    ReactDOM.render(<App />,document.getElementById('app'))
  </script>
</body>

</html>